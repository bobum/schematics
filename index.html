<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <title>Visual Connection Schematics</title>
    <link rel="stylesheet" href="styles.css">
    <!-- PBI-126: Telemetry styles -->
    <link rel="stylesheet" href="telemetry-styles.css">
    <script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s=" crossorigin="anonymous"></script>
    <script>
      let datamodel = {"components": [{"name": "Widget A","function": "solution 1","plugs": [{"name": "p001","pins": [{"name": "aircraftPower","number": 1,"wireLabel": "w001"},{"name": "batteryGnd","number": 2,"wireLabel": "w002"},{"name": "audioLo","number": 3,"wireLabel": "w003"},{"name": "audioHi","number": 4,"wireLabel": "w003"},{"name": "out1A","number": 5,"wireLabel": "w004"},{"name": "in1A","number": 6,"wireLabel": "w004"},{"name": "in1B","number": 7,"wireLabel": "w004"}]}]},{"name": "Widget B","function": "solution 2","plugs": [{"name": "p1001","pins": [{"name": "audioLo","number": 9,"wireLabel": "w003"},{"name": "audioHi","number": 5,"wireLabel": "w003"}]},{"name": "p1002","pins": [{"name": "in1A","number": 1,"wireLabel": "w004"},{"name": "out1A","number": 2,"wireLabel": "w004"},{"name": "out1B","number": 6,"wireLabel": "w004"}]}]}]};
    </script>
    <!-- PBI-126: Telemetry script loaded first to capture all events -->
    <script src="telemetry.js"></script>
  </head>
  <body>
    <div class="container">
      <div class="header-section">
        <h1>ğŸ”Œ Connection Schematics Visualization</h1>
        <div class="theme-toggle-container">
          <span class="theme-toggle-label">
            <span class="theme-icon" id="themeIcon">â˜€ï¸</span>
            <span id="themeText">Light Mode</span>
          </span>
          <div class="toggle-switch" id="themeToggle">
            <div class="toggle-slider"></div>
          </div>
        </div>
      </div>
      <div id="output" class="connections-grid"></div>
      <div id="stats" class="connection-stats" style="max-width: 600px; margin: 30px auto;"></div>
      
      <!-- PBI-126: Telemetry Dashboard -->
      <div id="telemetryDashboard" class="telemetry-dashboard" style="display: none;">
        <div class="telemetry-header">
          <h2>ğŸ“Š Telemetry Dashboard</h2>
          <button id="closeTelemetry" class="close-btn">âœ•</button>
        </div>
        <div class="telemetry-content">
          <div id="telemetryStats" class="telemetry-stats"></div>
          <div id="telemetryEvents" class="telemetry-events"></div>
        </div>
      </div>
      
      <!-- PBI-126: Telemetry Toggle Button -->
      <button id="showTelemetry" class="telemetry-toggle-btn" title="Show Telemetry Dashboard">ğŸ“Š</button>
    </div>
    <script src="dark-mode.js"></script>
    <script src="app.js"></script>
  </body>
</html>